(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1687:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(7876),r=s(7328),l=s.n(r),n=s(4232);let o=function(e){let{onSubmit:t,isSubmitting:s=!1,submitError:r=null}=e,[l,o]=(0,n.useState)({originCity:"",destinationCity:"",startDate:"",endDate:"",interests:"",budget:"moderate"}),[i,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("voyage-ai-form-data");if(e){let t=JSON.parse(e);o(t)}}catch(e){console.error("Error loading saved form data:",e),localStorage.removeItem("voyage-ai-form-data")}},[]),(0,n.useEffect)(()=>{Object.values(l).some(e=>e&&""!==e.trim())&&localStorage.setItem("voyage-ai-form-data",JSON.stringify(l))},[l]);let c=async e=>{if(e.preventDefault(),new Date(l.startDate)>new Date(l.endDate))return void d("End date must be on or after the start date.");d(null),await t(l)},m=!!i;return(0,a.jsxs)("form",{onSubmit:c,className:"rounded-2xl bg-slate-900/60 p-8 shadow-2xl backdrop-blur border border-slate-800",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Plan Your Voyage"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"Tell us about your dream trip and we'll craft a bespoke itinerary."}),(r||i)&&(0,a.jsx)("p",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 p-3 text-sm text-red-300",children:null!=i?i:r}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Origin City",(0,a.jsx)("input",{type:"text",required:!0,value:l.originCity,onChange:e=>o(t=>({...t,originCity:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"San Francisco"})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Destination City",(0,a.jsx)("input",{type:"text",required:!0,value:l.destinationCity,onChange:e=>o(t=>({...t,destinationCity:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"Tokyo"})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Start Date",(0,a.jsx)("input",{type:"date",required:!0,value:l.startDate,onChange:e=>o(t=>({...t,startDate:e.target.value})),className:"mt-2 rounded-md border bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none ".concat(m?"border-red-500":"border-slate-700")})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["End Date",(0,a.jsx)("input",{type:"date",required:!0,value:l.endDate,onChange:e=>o(t=>({...t,endDate:e.target.value})),className:"mt-2 rounded-md border bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none ".concat(m?"border-red-500":"border-slate-700")})]})]}),(0,a.jsxs)("label",{className:"mt-4 flex flex-col text-sm font-medium text-slate-200",children:["Interests",(0,a.jsx)("textarea",{rows:4,value:l.interests,onChange:e=>o(t=>({...t,interests:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"Sushi, cherry blossoms, tech tours"})]}),(0,a.jsxs)("label",{className:"mt-4 flex flex-col text-sm font-medium text-slate-200",children:["Budget",(0,a.jsxs)("select",{value:l.budget,onChange:e=>o(t=>({...t,budget:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"budget",children:"Budget"}),(0,a.jsx)("option",{value:"moderate",children:"Moderate"}),(0,a.jsx)("option",{value:"luxury",children:"Luxury"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"mt-6 w-full rounded-md bg-indigo-500 px-4 py-3 text-base font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-70",children:s?"Generating...":"Generate My Itinerary"})]})},i=function(e){let{itinerary:t}=e,r=async()=>{if(!t)return;let{jsPDF:e}=await Promise.all([s.e(155),s.e(347),s.e(140)]).then(s.bind(s,4312)),a=(await s.e(366).then(s.t.bind(s,3028,23))).default,r=document.getElementById("itinerary-content");if(!r)return;let l=await a(r,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#0f172a"}),n=l.toDataURL("image/png"),o=new e("p","mm","a4"),i=210*l.height/l.width,d=i,c=0;for(o.addImage(n,"PNG",0,c,210,i),d-=295;d>=0;)c=d-i,o.addPage(),o.addImage(n,"PNG",0,c,210,i),d-=295;o.save("".concat(t.tripName.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf"))};if(!t)return(0,a.jsxs)("div",{className:"mt-10 rounded-2xl border border-dashed border-slate-700 p-8 text-center text-slate-400",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-800/50",children:(0,a.jsx)("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("p",{className:"text-base",children:"Your personalized itinerary will appear here once generated."})]});let l=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)("section",{className:"mt-10 space-y-8",id:"itinerary-content",children:[(0,a.jsx)("header",{className:"rounded-2xl bg-gradient-to-r from-slate-900/90 to-slate-800/90 p-6 sm:p-8 shadow-xl backdrop-blur border border-slate-700/50",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-500/20",children:(0,a.jsxs)("svg",{className:"h-6 w-6 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:t.tripName})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"h-4 w-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,a.jsx)("span",{children:t.origin})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5-5 5M6 12h12"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"h-4 w-4 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{children:t.destination})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-slate-400",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsxs)("span",{className:"font-medium",children:[l(t.startDate)," – ",l(t.endDate)]}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsxs)("span",{className:"text-slate-300 font-semibold",children:[t.days.length," days"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6 lg:mt-0 lg:ml-6",children:[(0,a.jsxs)("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-red-500/15 to-red-600/15 border border-red-500/25 px-5 py-3 text-sm font-medium text-red-300 transition-all hover:from-red-500/25 hover:to-red-600/25 hover:text-red-200 hover:scale-105 hover:shadow-lg hover:shadow-red-500/10",title:"Export as PDF",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("span",{children:"Export PDF"})]}),(0,a.jsxs)("button",{onClick:()=>{if(!t)return;let e=new Date(t.startDate),s=t.days.map((s,a)=>{let r=new Date(e);return r.setDate(e.getDate()+a),((e,s)=>{let a=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",r=new Date(s),l=new Date(s);l.setHours(23,59,59);let n=e.activities.map(e=>"".concat(e.time,": ").concat(e.description)).join("\\n"),o=e.hotels.length?"Hotels: ".concat(e.hotels.join(", "),"\\n"):"",i=e.flights.length?"Flights: ".concat(e.flights.join(", "),"\\n"):"";return"BEGIN:VEVENT\nDTSTART:".concat(a(r),"\nDTEND:").concat(a(l),"\nSUMMARY:").concat(e.day," - ").concat(t.destination,"\nDESCRIPTION:").concat(e.summary,"\\n\\n").concat(i).concat(o,"Activities:\\n").concat(n,"\nLOCATION:").concat(t.destination,"\nEND:VEVENT")})(s,r)}).join("\n"),a=new Blob(["BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Voyage AI//Travel Itinerary//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nX-WR-CALNAME:".concat(t.tripName,"\nX-WR-CALDESC:Travel itinerary for ").concat(t.origin," to ").concat(t.destination,"\n").concat(s,"\nEND:VCALENDAR")],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(a),r.download="".concat(t.tripName.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".ics"),r.click()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-500/15 to-blue-600/15 border border-blue-500/25 px-5 py-3 text-sm font-medium text-blue-300 transition-all hover:from-blue-500/25 hover:to-blue-600/25 hover:text-blue-200 hover:scale-105 hover:shadow-lg hover:shadow-blue-500/10",title:"Export to Calendar",children:[(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("span",{children:"Add to Calendar"})]})]})]})}),(0,a.jsx)("div",{className:"space-y-6",children:t.days.map((e,t)=>(0,a.jsxs)("article",{className:"group relative rounded-2xl border border-slate-800/50 bg-slate-900/40 backdrop-blur transition-all hover:border-slate-700/50 hover:bg-slate-900/60",children:[(0,a.jsx)("div",{className:"absolute -left-3 -top-3 flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-lg font-bold text-white shadow-lg",children:t+1}),(0,a.jsxs)("div",{className:"p-8 pl-12",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.day}),(0,a.jsx)("p",{className:"text-slate-300 text-base leading-relaxed",children:e.summary})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("section",{className:"rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 p-5 border border-slate-700/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-500/20",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,a.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-indigo-300",children:"Flights"})]}),(0,a.jsx)("ul",{className:"space-y-3",children:e.flights.length?e.flights.map((e,t)=>(0,a.jsx)("li",{className:"text-sm text-slate-200 leading-relaxed border-l-2 border-indigo-500/30 pl-3",children:e},t)):(0,a.jsx)("li",{className:"text-slate-500 text-sm italic",children:"No flights scheduled for this day"})})]}),(0,a.jsxs)("section",{className:"rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 p-5 border border-slate-700/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500/20",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,a.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-emerald-300",children:"Accommodation"})]}),(0,a.jsx)("ul",{className:"space-y-3",children:e.hotels.length?e.hotels.map((e,t)=>(0,a.jsx)("li",{className:"text-sm text-slate-200 leading-relaxed border-l-2 border-emerald-500/30 pl-3",children:e},t)):(0,a.jsx)("li",{className:"text-slate-500 text-sm italic",children:"Accommodation details coming soon"})})]}),(0,a.jsxs)("section",{className:"rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 p-5 border border-slate-700/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-sky-500/20",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-sky-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-sky-300",children:"Activities"})]}),(0,a.jsx)("ul",{className:"space-y-4",children:e.activities.length?e.activities.map((e,t)=>(0,a.jsxs)("li",{className:"border-l-2 border-sky-500/30 pl-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(e=>{let t=e.toLowerCase();return t.includes("morning")?(0,a.jsx)("svg",{className:"h-4 w-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 2v2m6.364.636l-1.414 1.414M22 12h-2m-1.636 6.364l-1.414-1.414M12 22v-2m-6.364-1.636l1.414-1.414M2 12h2m1.636-6.364l1.414 1.414M12 7a5 5 0 100 10 5 5 0 000-10z"})}):t.includes("afternoon")?(0,a.jsx)("svg",{className:"h-4 w-4 text-orange-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 3a9 9 0 019 9 9 9 0 01-9 9 9 9 0 01-9-9 9 9 0 019-9z"})}):t.includes("evening")||t.includes("night")?(0,a.jsx)("svg",{className:"h-4 w-4 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})}):(0,a.jsxs)("svg",{className:"h-4 w-4 text-slate-400",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("polyline",{points:"12,6 12,12 16,14"})]})})(e.time),(0,a.jsx)("span",{className:"text-xs font-semibold text-white uppercase tracking-wide",children:e.time})]}),(0,a.jsx)("p",{className:"text-sm text-slate-200 leading-relaxed",children:e.description})]},t)):(0,a.jsx)("li",{className:"text-slate-500 text-sm italic",children:"Activities being planned"})})]})]})]})]},e.day))})]})},d=function(e){let{tag:t="#travel"}=e,[s,r]=(0,n.useState)([]),[l,o]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),c=Array.from({length:3});return(0,n.useEffect)(()=>{let e=new AbortController;return(async()=>{o(!0),d(null);try{var s;let a=new URLSearchParams({tag:t}),l=await fetch("/api/get-bluesky-posts?".concat(a.toString()),{signal:e.signal});if(!l.ok)throw Error("Failed to fetch Bluesky posts: ".concat(l.status));let n=await l.json();r(null!=(s=n.posts)?s:[])}catch(e){"AbortError"!==e.name&&d(e.message)}finally{o(!1)}})(),()=>{e.abort()}},[t]),(0,a.jsxs)("section",{className:"mt-12",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Voyager Feed"}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["Trending stories from Bluesky for ",t]})]})}),l&&0===s.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"sr-only",role:"status",children:"Loading travel stories"}),(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:c.map((e,t)=>(0,a.jsxs)("article",{className:"animate-pulse rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-lg",children:[(0,a.jsx)("div",{className:"h-3 w-24 rounded bg-slate-700/80"}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-3 w-full rounded bg-slate-800/80"}),(0,a.jsx)("div",{className:"h-3 w-5/6 rounded bg-slate-800/70"}),(0,a.jsx)("div",{className:"h-3 w-2/3 rounded bg-slate-800/60"})]}),(0,a.jsx)("div",{className:"mt-6 h-2 w-32 rounded bg-slate-700/60"})]},"skeleton-".concat(t)))})]}),i&&(0,a.jsx)("p",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 p-3 text-sm text-red-300",children:i}),!i&&(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:s.length?s.map(e=>(0,a.jsxs)("article",{className:"rounded-2xl bg-slate-900/70 p-5 shadow-lg border border-slate-800",children:[(0,a.jsxs)("p",{className:"text-sm uppercase tracking-wide text-indigo-300",children:["@",e.authorHandle]}),(0,a.jsx)("p",{className:"mt-3 text-sm text-slate-200",children:e.content}),(0,a.jsx)("p",{className:"mt-4 text-xs text-slate-500",children:new Date(e.publishedAt).toLocaleString()})]},e.id)):l?null:(0,a.jsx)("p",{className:"col-span-full rounded-md border border-slate-800 bg-slate-900/60 p-4 text-sm text-slate-400",children:"No posts found for this tag yet."})})]})},c=function(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),[c,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),[u,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("voyage-ai-itinerary"),s=localStorage.getItem("voyage-ai-last-request"),a=localStorage.getItem("voyage-ai-has-generated");e&&t(JSON.parse(e)),s&&g(JSON.parse(s)),"true"===a&&e&&h(!0)}catch(e){console.error("Error loading saved data:",e),localStorage.removeItem("voyage-ai-itinerary"),localStorage.removeItem("voyage-ai-last-request"),localStorage.removeItem("voyage-ai-has-generated")}},[]),(0,n.useEffect)(()=>{e&&localStorage.setItem("voyage-ai-itinerary",JSON.stringify(e))},[e]),(0,n.useEffect)(()=>{u&&localStorage.setItem("voyage-ai-last-request",JSON.stringify(u))},[u]),(0,n.useEffect)(()=>{localStorage.setItem("voyage-ai-has-generated",x.toString())},[x]);let p=async e=>{r(!0),m(null),h(!1),g({...e});try{let s=await fetch("/api/generate-itinerary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to generate itinerary: ".concat(s.status));let a=await s.json();t(a.itinerary),h(!0)}catch(e){m(e instanceof Error?e.message:"An unexpected error occurred while generating your itinerary."),h(!1)}finally{r(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Voyage AI | Intelligent Travel Planning"}),(0,a.jsx)("meta",{name:"description",content:"Voyage AI crafts intelligent itineraries using LLMs and live travel data."})]}),(0,a.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16",children:[(0,a.jsxs)("header",{className:"text-center mb-12 relative",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-indigo-500/20 px-4 py-1 text-xs font-semibold uppercase tracking-widest text-indigo-300",children:"Voyage AI"}),(0,a.jsx)("h1",{className:"mt-6 text-3xl sm:text-4xl lg:text-5xl font-semibold text-white",children:"Design unforgettable journeys with intelligence."}),(0,a.jsx)("p",{className:"mt-4 text-base sm:text-lg text-slate-300 max-w-3xl mx-auto",children:"Pair LLM inspiration with live maps, flights, and community stories to build the perfect adventure."}),(e||u)&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("voyage-ai-itinerary"),localStorage.removeItem("voyage-ai-last-request"),localStorage.removeItem("voyage-ai-has-generated"),localStorage.removeItem("voyage-ai-form-data"),t(null),g(null),h(!1),m(null),window.location.reload()},className:"inline-flex items-center gap-2 rounded-lg bg-slate-800/50 border border-slate-700/50 px-3 py-1.5 text-xs text-slate-400 transition hover:bg-slate-700/50 hover:text-slate-300",title:"Clear all saved data and reset form",children:[(0,a.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Saved Data"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 lg:gap-12 items-start",children:[(0,a.jsx)("div",{className:"order-2 xl:order-1",children:(0,a.jsx)(o,{onSubmit:p,isSubmitting:s,submitError:c})}),(0,a.jsxs)("div",{className:"order-1 xl:order-2 space-y-4",children:[s&&(0,a.jsx)("div",{className:"rounded-md border border-indigo-500/40 bg-indigo-500/10 p-4 text-sm text-indigo-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-indigo-300 border-t-transparent"}),(0,a.jsx)("span",{children:"Crafting your itinerary..."})]})}),x&&e&&!c&&!s&&(0,a.jsx)("div",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 p-4 text-sm text-emerald-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{children:"Your personalized itinerary is ready—enjoy the highlights below!"})]})}),c&&!s&&(0,a.jsx)("div",{className:"space-y-3 rounded-md border border-red-500/50 bg-red-500/10 p-4 text-sm text-red-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-red-300 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{children:c}),u&&(0,a.jsx)("button",{type:"button",onClick:()=>{u&&!s&&p(u)},className:"mt-3 inline-flex items-center justify-center rounded-md border border-red-400/40 px-3 py-1.5 text-xs font-semibold text-red-100 transition hover:border-red-300/60 hover:text-white",children:"Try again"})]})]})}),(0,a.jsx)(i,{itinerary:e})]})]}),(0,a.jsx)("div",{className:"mt-16",children:(0,a.jsx)(d,{tag:"#travel"})})]})})]})}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1687)}])},7328:(e,t,s)=>{e.exports=s(9269)}},e=>{e.O(0,[636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);