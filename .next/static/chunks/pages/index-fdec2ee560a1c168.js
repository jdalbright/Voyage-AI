(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1657)}])},1657:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),l=s(9008),r=s.n(l),i=s(7294),n=function(e){let{onSubmit:t,isSubmitting:s=!1,submitError:l=null}=e,[r,n]=(0,i.useState)({originCity:"",destinationCity:"",startDate:"",endDate:"",interests:"",budget:"moderate"}),[d,o]=(0,i.useState)(null),c=async e=>{if(e.preventDefault(),new Date(r.startDate)>new Date(r.endDate)){o("End date must be on or after the start date.");return}o(null),await t(r)},m=!!d;return(0,a.jsxs)("form",{onSubmit:c,className:"rounded-2xl bg-slate-900/60 p-8 shadow-2xl backdrop-blur border border-slate-800",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Plan Your Voyage"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"Tell us about your dream trip and we'll craft a bespoke itinerary."}),(l||d)&&(0,a.jsx)("p",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 p-3 text-sm text-red-300",children:null!=d?d:l}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Origin City",(0,a.jsx)("input",{type:"text",required:!0,value:r.originCity,onChange:e=>n(t=>({...t,originCity:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"San Francisco"})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Destination City",(0,a.jsx)("input",{type:"text",required:!0,value:r.destinationCity,onChange:e=>n(t=>({...t,destinationCity:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"Tokyo"})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["Start Date",(0,a.jsx)("input",{type:"date",required:!0,value:r.startDate,onChange:e=>n(t=>({...t,startDate:e.target.value})),className:"mt-2 rounded-md border bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none ".concat(m?"border-red-500":"border-slate-700")})]}),(0,a.jsxs)("label",{className:"flex flex-col text-sm font-medium text-slate-200",children:["End Date",(0,a.jsx)("input",{type:"date",required:!0,value:r.endDate,onChange:e=>n(t=>({...t,endDate:e.target.value})),className:"mt-2 rounded-md border bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none ".concat(m?"border-red-500":"border-slate-700")})]})]}),(0,a.jsxs)("label",{className:"mt-4 flex flex-col text-sm font-medium text-slate-200",children:["Interests",(0,a.jsx)("textarea",{rows:4,value:r.interests,onChange:e=>n(t=>({...t,interests:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",placeholder:"Sushi, cherry blossoms, tech tours"})]}),(0,a.jsxs)("label",{className:"mt-4 flex flex-col text-sm font-medium text-slate-200",children:["Budget",(0,a.jsxs)("select",{value:r.budget,onChange:e=>n(t=>({...t,budget:e.target.value})),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-base text-white focus:border-indigo-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"budget",children:"Budget"}),(0,a.jsx)("option",{value:"moderate",children:"Moderate"}),(0,a.jsx)("option",{value:"luxury",children:"Luxury"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"mt-6 w-full rounded-md bg-indigo-500 px-4 py-3 text-base font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-70",children:s?"Generating...":"Generate My Itinerary"})]})},d=function(e){let{itinerary:t}=e;return t?(0,a.jsxs)("section",{className:"mt-10 space-y-6",children:[(0,a.jsxs)("header",{className:"rounded-2xl bg-slate-900/70 p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-white",children:t.tripName}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-slate-300",children:[t.origin," → ",t.destination," | ",t.startDate," – ",t.endDate]})]}),t.days.map(e=>(0,a.jsxs)("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-6 shadow-md",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.day}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:e.summary}),(0,a.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("section",{className:"rounded-lg bg-slate-900/60 p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold uppercase tracking-wide text-indigo-300",children:"Flights"}),(0,a.jsx)("ul",{className:"mt-2 space-y-2 text-sm text-slate-200",children:e.flights.length?e.flights.map(e=>(0,a.jsx)("li",{children:e},e)):(0,a.jsx)("li",{className:"text-slate-500",children:"Flight details coming soon."})})]}),(0,a.jsxs)("section",{className:"rounded-lg bg-slate-900/60 p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold uppercase tracking-wide text-emerald-300",children:"Stays"}),(0,a.jsx)("ul",{className:"mt-2 space-y-2 text-sm text-slate-200",children:e.hotels.length?e.hotels.map(e=>(0,a.jsx)("li",{children:e},e)):(0,a.jsx)("li",{className:"text-slate-500",children:"Hotel suggestions will appear here."})})]}),(0,a.jsxs)("section",{className:"rounded-lg bg-slate-900/60 p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold uppercase tracking-wide text-sky-300",children:"Activities"}),(0,a.jsx)("ul",{className:"mt-2 space-y-2 text-sm text-slate-200",children:e.activities.length?e.activities.map(t=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-white",children:t.time})," — ",t.description]},"".concat(e.day,"-").concat(t.time))):(0,a.jsx)("li",{className:"text-slate-500",children:"Activities yet to be generated."})})]})]})]},e.day))]}):(0,a.jsx)("div",{className:"mt-10 rounded-2xl border border-dashed border-slate-700 p-8 text-center text-slate-400",children:"Your personalized itinerary will appear here once generated."})},o=function(e){let{tag:t="#travel"}=e,[s,l]=(0,i.useState)([]),[r,n]=(0,i.useState)(!1),[d,o]=(0,i.useState)(null),c=Array.from({length:3});return(0,i.useEffect)(()=>{let e=new AbortController;return(async()=>{n(!0),o(null);try{var s;let a=new URLSearchParams({tag:t}),r=await fetch("/api/get-bluesky-posts?".concat(a.toString()),{signal:e.signal});if(!r.ok)throw Error("Failed to fetch Bluesky posts: ".concat(r.status));let i=await r.json();l(null!==(s=i.posts)&&void 0!==s?s:[])}catch(e){"AbortError"!==e.name&&o(e.message)}finally{n(!1)}})(),()=>{e.abort()}},[t]),(0,a.jsxs)("section",{className:"mt-12",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Voyager Feed"}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["Trending stories from Bluesky for ",t]})]})}),r&&0===s.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"sr-only",role:"status",children:"Loading travel stories"}),(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:c.map((e,t)=>(0,a.jsxs)("article",{className:"animate-pulse rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-lg",children:[(0,a.jsx)("div",{className:"h-3 w-24 rounded bg-slate-700/80"}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-3 w-full rounded bg-slate-800/80"}),(0,a.jsx)("div",{className:"h-3 w-5/6 rounded bg-slate-800/70"}),(0,a.jsx)("div",{className:"h-3 w-2/3 rounded bg-slate-800/60"})]}),(0,a.jsx)("div",{className:"mt-6 h-2 w-32 rounded bg-slate-700/60"})]},"skeleton-".concat(t)))})]}),d&&(0,a.jsx)("p",{className:"mt-4 rounded-md border border-red-500/40 bg-red-500/10 p-3 text-sm text-red-300",children:d}),!d&&(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:s.length?s.map(e=>(0,a.jsxs)("article",{className:"rounded-2xl bg-slate-900/70 p-5 shadow-lg border border-slate-800",children:[(0,a.jsxs)("p",{className:"text-sm uppercase tracking-wide text-indigo-300",children:["@",e.authorHandle]}),(0,a.jsx)("p",{className:"mt-3 text-sm text-slate-200",children:e.content}),(0,a.jsx)("p",{className:"mt-4 text-xs text-slate-500",children:new Date(e.publishedAt).toLocaleString()})]},e.id)):r?null:(0,a.jsx)("p",{className:"col-span-full rounded-md border border-slate-800 bg-slate-900/60 p-4 text-sm text-slate-400",children:"No posts found for this tag yet."})})]})},c=function(){let[e,t]=(0,i.useState)(null),[s,l]=(0,i.useState)(!1),[c,m]=(0,i.useState)(null),[x,u]=(0,i.useState)(!1),h=async e=>{l(!0),m(null),u(!1);try{let s=await fetch("/api/generate-itinerary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to generate itinerary: ".concat(s.status));let a=await s.json();t(a.itinerary),u(!0)}catch(e){m(e instanceof Error?e.message:"An unexpected error occurred while generating your itinerary."),u(!1)}finally{l(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Voyage AI | Intelligent Travel Planning"}),(0,a.jsx)("meta",{name:"description",content:"Voyage AI crafts intelligent itineraries using LLMs and live travel data."})]}),(0,a.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-16",children:[(0,a.jsxs)("header",{className:"text-center",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-indigo-500/20 px-4 py-1 text-xs font-semibold uppercase tracking-widest text-indigo-300",children:"Voyage AI"}),(0,a.jsx)("h1",{className:"mt-6 text-5xl font-semibold text-white",children:"Design unforgettable journeys with intelligence."}),(0,a.jsx)("p",{className:"mt-4 text-lg text-slate-300",children:"Pair LLM inspiration with live maps, flights, and community stories to build the perfect adventure."})]}),(0,a.jsxs)("section",{className:"mt-12 grid gap-10 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)] lg:items-start",children:[(0,a.jsx)(n,{onSubmit:h,isSubmitting:s,submitError:c}),(0,a.jsxs)("div",{className:"space-y-4",children:[s&&(0,a.jsx)("p",{className:"rounded-md border border-indigo-500/40 bg-indigo-500/10 p-3 text-sm text-indigo-200",children:"Crafting your itinerary..."}),x&&e&&!c&&!s&&(0,a.jsx)("p",{className:"rounded-md border border-emerald-500/40 bg-emerald-500/10 p-3 text-sm text-emerald-200",children:"Your personalized itinerary is ready—enjoy the highlights below!"}),(0,a.jsx)(d,{itinerary:e})]})]}),(0,a.jsx)(o,{tag:"#travel"})]})})]})}},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);